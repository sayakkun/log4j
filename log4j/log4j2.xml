<?xml version="1.0" encoding="UTF-8"?>
<Configuration>
    <Properties>
        <!--property is for declaring property-->
        <Property name="LOG_DIR">NewMongoDBAccessor.log
        </Property>
        <Property name="ARCHIVE">logs/app-%d{MM-dd-yyyy}-%i.log
        </Property>
        <Property name="PATTERN">%p %d{dd-MM-yyyy ,HH:mm:ss,SSS} [%t- %F-%L] %m%n</Property>     
    </Properties>
    <Appenders>
        <RollingFile name="RollingFile" fileName="${LOG_DIR}"
                     filePattern="${ARCHIVE}" append="false">
            <PatternLayout pattern="${PATTERN}" />
            <!--PatternLayout is specified to the PATTERN 
            every log will be printed in this pattern when a logging request is generated--> 
            <Policies>
                <SizeBasedTriggeringPolicy size="4 KB" />
                <!--SizeBasedTriggeringPolicy looks at size of the file being 
                currently written to.
                Now, that means if the filesize is more than 1024mb, old logs will be deleted-->
            </Policies>
            <DefaultRolloverStrategy max="2" />
            <!--DefaultRolloverStrategy, with max number of files equal to 7, 
            so we expect that the files in our logs folder will reach the max 
            number of 4,and then the oldest ones will be removed as new ones will be created.
            Now, here since, append is set as true, upto 7 logs will be generated
            in a file(?????)-->
        </RollingFile>
        <Console name="Console" target="SYSTEM_OUT">
            <!--some messages are to be printed in console
          whose target is set to SYSTEM_OUT
          i.e. some log messages are to be printed in SYSTEM_OUT
            -->
            <PatternLayout pattern="${PATTERN}" />
        </Console>
        <!--now, two Appenders are defined-->
    </Appenders>
    <Loggers>
        <Root level="DEBUG">
            <!--now, <Root level="DEBUG">
            specifies that it will display logs of all packages (that's why root)
            in files as well as console(targeted to SYSTEM_OUT) will log priority 
            above or equal DEBUG
            In simple language, the log level of root logger which is used for 
            all files is defined as DEBUG
            Now, log level order:
            we have ALL < DEBUG < INFO < WARN < ERROR < FATAL < OFF
            for more info on this, read this: 
            https://www.tutorialspoint.com/log4j/log4j_logging_levels.htm
            --> 
            <AppenderRef ref="RollingFile" level="DEBUG"/>
            <AppenderRef ref="Console" level="DEBUG"/>
        </Root>
    </Loggers>
</Configuration>


